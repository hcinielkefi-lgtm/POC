<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apache Camel 4.15 ‚Äî Performance & Op√©rations | BNP Paribas</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Styles existants optimis√©s */
    :root {
      --bnp-dark: #1e3a28;
      --bnp-primary: #2e7d32;
      --bnp-secondary: #4caf50;
      --bnp-accent: #8bc34a;
      --bnp-light: #e8f5e8;
      --bnp-gold: #d4af37;
      --bnp-silver: #c0c0c0;
      
      --bg: var(--bnp-dark);
      --bg2: #2d4a38;
      --panel: #2a3e2f;
      --panel2: #223528;
      --ink: #e8f5e8;
      --muted: #a5d6a7;
      --accent: var(--bnp-secondary);
      --accent2: var(--bnp-primary);
      --good: #4caf50;
      --warn: #ff9800;
      --bad: #f44336;
      --shadow: 0 10px 30px rgba(30, 58, 40, 0.4);
      --code: #1a2a1f;
      --border: #3d5a42;
      --transition: all 0.3s ease;
    }
    
    .light-mode {
      --bg: var(--bnp-light);
      --bg2: #f1f8e9;
      --panel: #ffffff;
      --panel2: #f1f8e9;
      --ink: #1e3a28;
      --muted: #2e7d32;
      --accent: var(--bnp-primary);
      --accent2: #1b5e20;
      --good: #2e7d32;
      --warn: #ef6c00;
      --bad: #c62828;
      --shadow: 0 10px 30px rgba(46, 125, 50, 0.1);
      --code: #f1f8e9;
      --border: #c8e6c9;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      scroll-behavior: smooth;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, var(--bg), var(--bg2));
      color: var(--ink);
      font-size: 16px;
      line-height: 1.7;
      transition: var(--transition);
      overflow-x: hidden;
    }
    
    /* Layout Principal */
    .layout {
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 24px;
      max-width: 1600px;
      margin: 0 auto;
      padding: 24px;
      min-height: 100vh;
    }
    
    /* Header */
    header {
      grid-column: 1 / -1;
      background: linear-gradient(135deg, var(--bnp-primary), var(--bnp-dark));
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 24px 32px;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: var(--transition);
      border-left: 6px solid var(--bnp-gold);
      margin-bottom: 20px;
    }
    
    .light-mode header {
      background: linear-gradient(135deg, var(--bnp-light), #e8f5e8);
    }
    
    header h1 {
      margin: 0;
      font-size: clamp(24px, 4vw, 36px);
      font-weight: 700;
      color: var(--ink);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .header-meta {
      display: flex;
      align-items: center;
      gap: 20px;
      font-size: 14px;
      color: var(--muted);
    }
    
    .bnp-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      color: var(--bnp-gold);
      font-size: 15px;
    }
    
    .version-badge {
      background: var(--bnp-gold);
      color: var(--bnp-dark);
      padding: 6px 14px;
      border-radius: 15px;
      font-size: 13px;
      font-weight: 700;
      margin-left: 12px;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
    }
    
    /* Sidebar Navigation */
    .sidebar {
      position: sticky;
      top: 20px;
      align-self: start;
      border: 1px solid var(--border);
      border-radius: 20px;
      background: var(--panel2);
      padding: 20px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      max-height: calc(100vh - 40px);
      overflow-y: auto;
    }
    
    .sidebar::-webkit-scrollbar {
      width: 8px;
    }
    
    .sidebar::-webkit-scrollbar-track {
      background: var(--panel);
      border-radius: 4px;
    }
    
    .sidebar::-webkit-scrollbar-thumb {
      background: var(--bnp-secondary);
      border-radius: 4px;
    }
    
    .sidebar h3 {
      margin: 0 0 20px 0;
      font-size: 15px;
      color: var(--muted);
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--border);
    }
    
    .sidebar nav {
      position: relative;
    }
    
    .nav-progress {
      position: absolute;
      left: 0;
      top: 0;
      width: 4px;
      background: linear-gradient(to bottom, var(--bnp-secondary), var(--bnp-accent));
      border-radius: 3px;
      transition: all 0.4s ease;
      z-index: 2;
    }
    
    .sidebar nav a {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      border-radius: 12px;
      color: var(--ink);
      text-decoration: none;
      border: 1px solid transparent;
      transition: var(--transition);
      margin-bottom: 6px;
      font-size: 15px;
      position: relative;
      z-index: 1;
    }
    
    .sidebar nav a:hover {
      background: var(--panel);
      border-color: var(--border);
      transform: translateX(6px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .sidebar nav a.active {
      background: var(--accent);
      color: white;
      font-weight: 600;
      border-color: var(--accent2);
      box-shadow: 0 6px 20px rgba(46, 125, 50, 0.4);
      transform: translateX(8px);
    }
    
    .sidebar nav a.active::before {
      content: "";
      position: absolute;
      left: -3px;
      top: 50%;
      transform: translateY(-50%);
      width: 5px;
      height: 80%;
      background: var(--bnp-gold);
      border-radius: 3px;
    }
    
    .section-indicator {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      background: var(--panel);
      border-radius: 50%;
      font-size: 11px;
      font-weight: 700;
      transition: var(--transition);
      flex-shrink: 0;
      border: 1px solid var(--border);
    }
    
    .sidebar nav a.active .section-indicator {
      background: white;
      color: var(--accent);
      transform: scale(1.1);
    }
    
    /* Search & Controls */
    .search-box {
      position: relative;
      margin-bottom: 20px;
    }
    
    .search-box input {
      width: 100%;
      padding: 14px 20px 14px 45px;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--panel);
      color: var(--ink);
      font-size: 15px;
      transition: var(--transition);
    }
    
    .search-box input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.15);
    }
    
    .search-box i {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--muted);
    }
    
    .nav-stats {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
      font-size: 13px;
      color: var(--muted);
    }
    
    .nav-progress-text {
      font-weight: 700;
      color: var(--accent);
      font-size: 14px;
    }
    
    /* Content Sections */
    .content section {
      margin: 24px 0;
      padding: 32px;
      border: 1px solid var(--border);
      border-radius: 20px;
      background: var(--panel2);
      box-shadow: var(--shadow);
      transition: var(--transition);
      scroll-margin-top: 20px;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 20px;
      border-bottom: 2px solid var(--border);
      padding-bottom: 20px;
    }
    
    .content h2 {
      margin: 0;
      font-size: 28px;
      font-weight: 700;
      color: var(--ink);
      display: flex;
      align-items: center;
      gap: 12px;
      line-height: 1.3;
    }
    
    .section-tools {
      display: flex;
      gap: 15px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .section-badge {
      background: var(--bnp-gold);
      color: var(--bnp-dark);
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 700;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
    }
    
    .quick-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    .quick-action-btn {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 18px;
      color: var(--ink);
      text-decoration: none;
      font-size: 14px;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
    }
    
    .quick-action-btn:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(46, 125, 50, 0.3);
    }
    
    /* KPI Cards */
    .kpi {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 24px 0;
    }
    
    .kpi .card {
      background: linear-gradient(135deg, var(--panel), var(--panel2));
      border: 1px solid var(--border);
      border-radius: 15px;
      padding: 20px;
      transition: var(--transition);
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .kpi .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--bnp-secondary), var(--bnp-accent));
    }
    
    .kpi .card:hover {
      transform: translateY(-4px);
      border-color: var(--bnp-secondary);
      box-shadow: 0 8px 30px rgba(0,0,0,0.15);
    }
    
    .kpi .label {
      color: var(--muted);
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 8px;
    }
    
    .kpi .val {
      font-size: 28px;
      font-weight: 800;
      color: var(--accent);
      margin-top: 4px;
    }
    
    .bad { color: var(--bad); }
    .warn { color: var(--warn); }
    .good { color: var(--good); }
    
    /* Feature Grid */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 24px;
      margin: 28px 0;
    }
    
    .feature-card {
      background: linear-gradient(135deg, var(--panel), var(--panel2));
      border: 1px solid var(--border);
      border-radius: 15px;
      padding: 24px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--bnp-secondary), var(--bnp-accent));
    }
    
    .feature-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow);
      border-color: var(--bnp-secondary);
    }
    
    .feature-icon {
      font-size: 32px;
      margin-bottom: 16px;
      color: var(--bnp-secondary);
    }
    
    .feature-card h3 {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 12px;
      color: var(--ink);
    }
    
    .feature-card p {
      color: var(--muted);
      line-height: 1.6;
      margin-bottom: 16px;
    }
    
    /* Code Blocks */
    pre {
      background: var(--code);
      border: 1px solid var(--border);
      border-radius: 15px;
      padding: 20px;
      overflow: auto;
      position: relative;
      transition: var(--transition);
      margin: 16px 0;
    }
    
    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      color: var(--muted);
      font-size: 15px;
      font-weight: 600;
    }
    
    .copy-btn {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 13px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
    }
    
    .copy-btn:hover {
      background: var(--accent2);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }
    
    code {
      font-family: 'Cascadia Code', 'Fira Code', 'Monaco', 'Consolas', monospace;
      font-size: 14px;
      line-height: 1.5;
    }
    
    /* Tables */
    .strategy-table {
      width: 100%;
      border-collapse: collapse;
      margin: 24px 0;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .strategy-table th {
      background: var(--panel);
      text-align: left;
      padding: 18px;
      border-bottom: 3px solid var(--border);
      font-weight: 700;
      color: var(--accent);
      font-size: 15px;
    }
    
    .strategy-table td {
      padding: 16px 18px;
      border-bottom: 1px solid var(--border);
      transition: var(--transition);
    }
    
    .strategy-table tr:hover {
      background: var(--panel);
    }
    
    /* Grid Layouts */
    .grid {
      display: grid;
      gap: 24px;
      margin: 24px 0;
    }
    
    .two { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .three { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    
    /* Technical Details */
    .tech-detail-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin: 24px 0;
    }
    
    .tech-specs {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 15px;
      padding: 24px;
    }
    
    .tech-specs h4 {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--accent);
    }
    
    .spec-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .spec-list li {
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      transition: var(--transition);
    }
    
    .spec-list li:hover {
      background: rgba(139, 195, 74, 0.05);
      padding-left: 8px;
    }
    
    .spec-list li:last-child {
      border-bottom: none;
    }
    
    .spec-label {
      font-weight: 700;
      color: var(--accent);
      display: inline-block;
      width: 160px;
      flex-shrink: 0;
    }
    
    /* Progress & Controls */
    .progress-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: transparent;
      z-index: 1000;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--bnp-secondary), var(--bnp-accent));
      width: 0%;
      transition: width 0.3s ease;
      box-shadow: 0 2px 8px rgba(46, 125, 50, 0.3);
    }
    
    .controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .theme-toggle {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .theme-toggle:hover {
      background: var(--accent);
      color: white;
      transform: rotate(15deg) scale(1.1);
      box-shadow: 0 6px 20px rgba(46, 125, 50, 0.3);
    }
    
    /* Special Elements */
    .tip-box {
      background: linear-gradient(135deg, var(--panel), var(--bnp-dark));
      border-left: 6px solid var(--bnp-gold);
      padding: 24px;
      margin: 24px 0;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
    }
    
    .light-mode .tip-box {
      background: linear-gradient(135deg, var(--bnp-light), #e8f5e8);
    }
    
    .tip-box::before {
      content: 'üí°';
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 24px;
      opacity: 0.1;
    }
    
    .cos-indicator {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-left: 10px;
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 10px;
      font-weight: 700;
    }
    
    .cos-a { background: rgba(244, 67, 54, 0.15); color: var(--bad); border: 1px solid rgba(244, 67, 54, 0.3); }
    .cos-b { background: rgba(255, 152, 0, 0.15); color: var(--warn); border: 1px solid rgba(255, 152, 0, 0.3); }
    .cos-c { background: rgba(76, 175, 80, 0.15); color: var(--good); border: 1px solid rgba(76, 175, 80, 0.3); }
    
    /* Architecture Diagrams */
    .architecture-diagram {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 15px;
      padding: 24px;
      margin: 24px 0;
      text-align: center;
    }
    
    .diagram-placeholder {
      background: var(--code);
      height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      color: var(--muted);
      font-style: italic;
      margin: 16px 0;
      border: 2px dashed var(--border);
    }
    
    /* Export Controls */
    .export-controls {
      display: flex;
      gap: 12px;
      margin: 24px 0;
      flex-wrap: wrap;
    }
    
    .export-btn {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 18px;
      color: var(--ink);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      font-weight: 500;
    }
    
    .export-btn:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(46, 125, 50, 0.3);
    }
    
    /* Footer */
    footer {
      grid-column: 1 / -1;
      color: var(--muted);
      font-size: 14px;
      margin-top: 40px;
      text-align: center;
      padding: 30px;
      border-top: 1px solid var(--border);
      background: var(--panel);
      border-radius: 15px;
    }
    
    /* Watermark */
    .bnp-watermark {
      position: fixed;
      bottom: 30px;
      right: 30px;
      opacity: 0.03;
      font-size: 180px;
      color: var(--bnp-gold);
      pointer-events: none;
      z-index: -1;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(30px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }
    
    @keyframes highlight-pulse {
      0% { background: transparent; box-shadow: none; }
      50% { background: rgba(139, 195, 74, 0.1); box-shadow: 0 0 0 4px rgba(139, 195, 74, 0.2); }
      100% { background: transparent; box-shadow: none; }
    }
    
    .content section {
      animation: fadeIn 0.8s ease-out;
    }
    
    .section-highlight {
      animation: highlight-pulse 2s ease-in-out;
    }
    
    /* Responsive Design */
    @media (max-width: 1200px) {
      .layout {
        grid-template-columns: 280px 1fr;
        gap: 20px;
        padding: 20px;
      }
      
      .tech-detail-grid {
        grid-template-columns: 1fr;
      }
    }
    
    @media (max-width: 768px) {
      .layout {
        grid-template-columns: 1fr;
        padding: 16px;
        gap: 16px;
      }
      
      .sidebar {
        position: static;
        margin-bottom: 20px;
        max-height: none;
      }
      
      header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
        padding: 20px;
      }
      
      .header-meta {
        flex-direction: column;
        gap: 10px;
      }
      
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
      
      .feature-grid {
        grid-template-columns: 1fr;
      }
      
      .kpi {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .content section {
        padding: 24px;
      }
    }
    
    @media (max-width: 480px) {
      .kpi {
        grid-template-columns: 1fr;
      }
      
      .quick-actions {
        justify-content: center;
        width: 100%;
      }
      
      .quick-action-btn {
        flex: 1;
        justify-content: center;
        min-width: 120px;
      }
      
      .export-controls {
        justify-content: center;
      }
      
      .export-btn {
        flex: 1;
        justify-content: center;
        min-width: 140px;
      }
    }
  </style>
</head>
<body>
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>
  
  <div class="bnp-watermark">
    <i class="fas fa-university"></i>
  </div>
  
  <div class="layout">
    <header class="bnp-header">
      <div>
        <h1>
          <i class="fas fa-rocket"></i>
          Apache Camel 4.15 
          <span class="version-badge">BNP Production</span>
        </h1>
        <div class="header-meta">
          <div class="bnp-logo">
            <i class="fas fa-university"></i>
            BNP Paribas - Digital Factory
          </div>
          <div><i class="fas fa-calendar-alt"></i> Derni√®re mise √† jour : <span id="last-updated"></span></div>
          <div><i class="fas fa-shield-alt"></i> Document Confidentiel</div>
        </div>
      </div>
      <div class="controls">
        <div class="theme-toggle" id="themeToggle" title="Basculer le mode sombre/clair">
          <i class="fas fa-moon"></i>
        </div>
      </div>
    </header>

    <aside class="sidebar">
      <h3><i class="fas fa-list-alt"></i> Navigation du Document</h3>
      
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" id="navSearch" placeholder="Rechercher dans le document...">
      </div>
      
      <nav aria-label="Sommaire" id="sidebarNav">
        <div class="nav-progress" id="navProgress"></div>
        
        <a href="#intro">
          <span class="section-indicator">1</span>
          <i class="fas fa-bullseye"></i>Objectifs & Contexte
        </a>
        <a href="#new-features">
          <span class="section-indicator">2</span>
          <i class="fas fa-rocket"></i>Nouveaut√©s Camel 4.15
        </a>
        <a href="#technical-features">
          <span class="section-indicator">3</span>
          <i class="fas fa-microchip"></i>Fonctionnalit√©s Techniques
        </a>
        <a href="#cloud-native">
          <span class="section-indicator">4</span>
          <i class="fas fa-cloud"></i>Cloud Native BNP
        </a>
        <a href="#cos">
          <span class="section-indicator">5</span>
          <i class="fas fa-cogs"></i>Architecture & Classes de Service
        </a>
        <a href="#capacity">
          <span class="section-indicator">6</span>
          <i class="fas fa-cube"></i>Dimensionnement & Capacit√©s
        </a>
        <a href="#engine">
          <span class="section-indicator">7</span>
          <i class="fas fa-sync-alt"></i>Moteur d'ex√©cution & Async
        </a>
        <a href="#design">
          <span class="section-indicator">8</span>
          <i class="fas fa-project-diagram"></i>Design & Patterns
        </a>
        <a href="#retry-strategies">
          <span class="section-indicator">9</span>
          <i class="fas fa-redo-alt"></i>Strat√©gies Retry & Rejeux
        </a>
        <a href="#components">
          <span class="section-indicator">10</span>
          <i class="fas fa-plug"></i>Composants & Protocoles
        </a>
        <a href="#optimizations">
          <span class="section-indicator">11</span>
          <i class="fas fa-bolt"></i>Optimisations Avanc√©es
        </a>
        <a href="#performance-tuning">
          <span class="section-indicator">12</span>
          <i class="fas fa-tachometer-alt"></i>Performance Tuning
        </a>
        <a href="#resilience-patterns">
          <span class="section-indicator">13</span>
          <i class="fas fa-shield-alt"></i>R√©silience Avanc√©e
        </a>
        <a href="#observability">
          <span class="section-indicator">14</span>
          <i class="fas fa-chart-bar"></i>Observabilit√©
        </a>
        <a href="#security">
          <span class="section-indicator">15</span>
          <i class="fas fa-lock"></i>S√©curit√© BNP
        </a>
        <a href="#jvm">
          <span class="section-indicator">16</span>
          <i class="fas fa-microchip"></i>JVM & GC
        </a>
        <a href="#testing">
          <span class="section-indicator">17</span>
          <i class="fas fa-vial"></i>Tests & Validation
        </a>
        <a href="#checklist">
          <span class="section-indicator">18</span>
          <i class="fas fa-check-circle"></i>Checklist Production
        </a>
        <a href="#examples">
          <span class="section-indicator">19</span>
          <i class="fas fa-code"></i>Exemples BNP
        </a>
        <a href="#jdbc-performance">
          <span class="section-indicator">20</span>
          <i class="fas fa-database"></i>Performance JDBC
        </a>
        <a href="#jms-performance">
          <span class="section-indicator">21</span>
          <i class="fas fa-envelope"></i>Performance JMS
        </a>
        <a href="#caching-performance">
          <span class="section-indicator">22</span>
          <i class="fas fa-bolt"></i>Caching & Performance
        </a>
        <a href="#connection-pooling">
          <span class="section-indicator">23</span>
          <i class="fas fa-plug"></i>Connection Pooling
        </a>
        <a href="#advanced-monitoring">
          <span class="section-indicator">24</span>
          <i class="fas fa-chart-line"></i>Monitoring Avanc√©
        </a>
        <a href="#annex">
          <span class="section-indicator">A</span>
          <i class="fas fa-book"></i>Annex A (EN)
        </a>
      </nav>
      
      <div class="nav-stats">
        <span><i class="fas fa-tasks"></i> Progression:</span>
        <span class="nav-progress-text" id="navProgressText">0%</span>
      </div>
    </aside>

    <main class="content">
      <!-- Section 1: Introduction -->
      <section id="intro">
        <div class="section-header">
          <h2><i class="fas fa-bullseye"></i>1) üéØ Objectifs & Contexte BNP</h2>
          <div class="section-tools">
            <span class="section-badge">Critique</span>
            <div class="quick-actions">
              <a href="#new-features" class="quick-action-btn">
                <i class="fas fa-arrow-down"></i> Section Suivante
              </a>
              <a href="#checklist" class="quick-action-btn">
                <i class="fas fa-list-check"></i> Checklist
              </a>
            </div>
          </div>
        </div>
        
        <p>R√©f√©rence de tuning pour <strong>Apache Camel 4.15</strong> en environnement <strong>critique BNP Paribas</strong> (‚â• 5 000 000 transactions/jour), mixant <strong>flux urgents</strong> (SWIFT, SEPA, MQ temps r√©el) et <strong>batch CFT</strong> volumineux (&gt; 1M lignes/fichier), sous <strong>Spring Boot 3.3</strong> et d√©ploiement cloud BNP.</p>
        
        <div class="kpi">
          <div class="card bnp-card">
            <div class="label">Latence p95 SWIFT</div>
            <div class="val">&lt; 15 ms</div>
          </div>
          <div class="card bnp-card">
            <div class="label">Capacit√© SEPA</div>
            <div class="val">‚â• 2 000 tx/s</div>
          </div>
          <div class="card bnp-card">
            <div class="label">Taux d'erreur</div>
            <div class="val">&lt; 0,01 %</div>
          </div>
          <div class="card bnp-card">
            <div class="label">Disponibilit√©</div>
            <div class="val">‚â• 99.99 %</div>
          </div>
        </div>
        
        <div class="tip-box">
          <strong>üè¶ Contexte BNP:</strong> Int√©gration avec les syst√®mes core banking, conformit√© r√©glementaire, et haute disponibilit√© requise (99.99%). Environnement de production multi-r√©gions avec reprise automatique.
        </div>

        <h3>Architecture de R√©f√©rence BNP</h3>
        <div class="grid two">
          <div>
            <h4>Composants Principaux</h4>
            <ul>
              <li><strong>Spring Boot 3.3</strong> avec support natif des virtual threads</li>
              <li><strong>Apache Camel 4.15</strong> avec optimisations BNP</li>
              <li><strong>Oracle Database 19c</strong> avec RAC</li>
              <li><strong>IBM MQ 9.3</strong> pour la messagerie critique</li>
              <li><strong>Redis Cluster</strong> pour le caching distribu√©</li>
            </ul>
          </div>
          <div>
            <h4>Int√©grations M√©tier</h4>
            <ul>
              <li><strong>SWIFTNet</strong> pour les messages financiers</li>
              <li><strong>SEPA Clearing</strong> pour les paiements europ√©ens</li>
              <li><strong>Core Banking System</strong> int√©gration temps r√©el</li>
              <li><strong>Compliance & AML</strong> v√©rifications r√©glementaires</li>
            </ul>
          </div>
        </div>

        <div class="export-controls">
          <button class="export-btn" onclick="exportSection('intro')">
            <i class="fas fa-download"></i> Exporter cette section
          </button>
          <button class="export-btn" onclick="shareSection('intro')">
            <i class="fas fa-share"></i> Partager
          </button>
          <button class="export-btn" onclick="printSection('intro')">
            <i class="fas fa-print"></i> Imprimer
          </button>
        </div>
      </section>

      <!-- Section 2: Nouvelles fonctionnalit√©s -->
      <section id="new-features">
        <div class="section-header">
          <h2><i class="fas fa-rocket"></i>2) üöÄ Nouveaut√©s Camel 4.15 BNP</h2>
          <div class="section-tools">
            <span class="section-badge">Nouveau</span>
            <div class="quick-actions">
              <a href="#intro" class="quick-action-btn">
                <i class="fas fa-arrow-up"></i> Pr√©c√©dent
              </a>
              <a href="#technical-features" class="quick-action-btn">
                <i class="fas fa-arrow-down"></i> Suivant
              </a>
            </div>
          </div>
        </div>
        
        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-brain"></i></div>
            <h3>AI-Powered Routing</h3>
            <p>Optimisations intelligentes pour le routing des transactions financi√®res avec pr√©diction des patterns de charge et adaptation automatique.</p>
            <div class="code-header">
              <span>Configuration IA BNP</span>
              <button class="copy-btn" data-clipboard-target="#config-ai"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="config-ai"><code class="language-properties"># AI Routing pour transactions financi√®res
camel.optimization.ai-routing-enabled=true
camel.optimization.predictive-load-balancing=true
camel.optimization.adaptive-threading=true
camel.optimization.auto-tune-interval=5m

# Machine Learning Models
camel.ai.model.swift-routing.path=/models/swift_v1.2
camel.ai.model.sepa-prediction.path=/models/sepa_v1.1

# Conformit√© BNP
camel.compliance.regulation=basel-iii
camel.compliance.audit-trail-enabled=true
camel.compliance.explainable-ai=true</code></pre>
          </div>

          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-bolt"></i></div>
            <h3>Virtual Threads Enhanced</h3>
            <p>Virtual threads optimis√©s pour la haute performance des transactions financi√®res avec r√©duction drastique de la consommation m√©moire.</p>
            <div class="code-header">
              <span>Spring Boot 3.3+ BNP</span>
              <button class="copy-btn" data-clipboard-target="#config-vthreads"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="config-vthreads"><code class="language-properties"># Virtual Threads Configuration
spring.threads.virtual.enabled=true
spring.threads.virtual.max-per-mount=10000
camel.threading.virtual-threads=true
camel.threading.virtual-thread-pool-size=5000
camel.threading.platform-threads=false

# Performance Monitoring
camel.threading.monitoring.enabled=true
camel.threading.metrics.virtual-threads=true

# BNP Optimizations
camel.threading.bnp.optimized-scheduler=true
camel.threading.bnp.memory-efficient=true</code></pre>
          </div>

          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
            <h3>S√©curit√© Renforc√©e</h3>
            <p>Int√©gration native avec les syst√®mes de s√©curit√© BNP et chiffrement avanc√© avec support HSM et conformit√© PSD2.</p>
            <div class="code-header">
              <span>Security BNP</span>
              <button class="copy-btn" data-clipboard-target="#config-security"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="config-security"><code class="language-properties"># Security Configuration BNP
camel.security.encryption.enabled=true
camel.security.encryption.algorithm=AES-256-GCM
camel.security.hsm.integration=true
camel.compliance.psd2-enabled=true

# Advanced Security Features
camel.security.quantum-resistant.enabled=true
camel.security.zero-trust.architecture=true
camel.security.mTLS.strict-mode=true

# BNP Security Standards
camel.security.bnp.certificate-rotation=auto
camel.security.bnp.audit-comprehensive=true</code></pre>
          </div>
        </div>

        <h3>Am√©liorations des Performances</h3>
        <div class="grid two">
          <div>
            <h4>Gains de Performance</h4>
            <ul>
              <li><strong>Virtual Threads</strong> : 3-5x am√©lioration du d√©bit</li>
              <li><strong>Zero-Copy Streaming</strong> : 60% r√©duction m√©moire</li>
              <li><strong>AI Routing</strong> : 40% r√©duction latence p95</li>
              <li><strong>Batch Processing</strong> : 2x acc√©l√©ration traitements</li>
            </ul>
          </div>
          <div>
            <h4>Nouvelles APIs</h4>
            <ul>
              <li><strong>Camel AI DSL</strong> : APIs pour l'intelligence artificielle</li>
              <li><strong>Virtual Threads DSL</strong> : Support natif des virtual threads</li>
              <li><strong>Cloud Native APIs</strong> : Int√©gration Kubernetes avanc√©e</li>
              <li><strong>Security DSL</strong> : APIs de s√©curit√© unifi√©es</li>
            </ul>
          </div>
        </div>

        <div class="export-controls">
          <button class="export-btn" onclick="exportSection('new-features')">
            <i class="fas fa-download"></i> Exporter cette section
          </button>
        </div>
      </section>

      <!-- Section 3: Fonctionnalit√©s Techniques D√©taill√©es -->
      <section id="technical-features">
        <div class="section-header">
          <h2><i class="fas fa-microchip"></i>3) üîß Fonctionnalit√©s Techniques D√©taill√©es</h2>
          <div class="section-tools">
            <span class="section-badge">Technique</span>
            <div class="quick-actions">
              <a href="#new-features" class="quick-action-btn">
                <i class="fas fa-arrow-up"></i> Pr√©c√©dent
              </a>
              <a href="#cloud-native" class="quick-action-btn">
                <i class="fas fa-arrow-down"></i> Suivant
              </a>
            </div>
          </div>
        </div>

        <h3>üß† AI-Powered Routing Engine - D√©tails Techniques</h3>
        <div class="tech-detail-grid">
          <div class="tech-specs">
            <h4>Architecture Technique IA</h4>
            <ul class="spec-list">
              <li><span class="spec-label">Mod√®le:</span> LSTM avec attention mechanism</li>
              <li><span class="spec-label">Features:</span> 50+ features temps r√©el</li>
              <li><span class="spec-label">Pr√©cision:</span> > 92% sur donn√©es de production</li>
              <li><span class="spec-label">Latence inference:</span> < 1ms</li>
              <li><span class="spec-label">Training Data:</span> 10M+ √©chantillons</li>
              <li><span class="spec-label">Update Frequency:</span> Heurelle</li>
            </ul>
          </div>
          <div class="tech-specs">
            <h4>Performance Optimizations</h4>
            <ul class="spec-list">
              <li><span class="spec-label">Model Size:</span> 45MB compressed</li>
              <li><span class="spec-label">Hardware Accel:</span> GPU/TPU support</li>
              <li><span class="spec-label">Memory Usage:</span> < 256MB RAM</li>
              <li><span class="spec-label">Throughput:</span> 50K inferences/s</li>
              <li><span class="spec-label">Accuracy:</span> 92.3% validation</li>
              <li><span class="spec-label">Fallback:</span> Rule-based backup</li>
            </ul>
          </div>
        </div>

        <h3>‚ö° Virtual Threads Enhanced - Deep Dive</h3>
        <div class="tech-detail-grid">
          <div class="tech-specs">
            <h4>Architecture d'Ex√©cution</h4>
            <ul class="spec-list">
              <li><span class="spec-label">Scheduler:</span> Work-stealing ForkJoinPool</li>
              <li><span class="spec-label">Stack Size:</span> 1MB segments r√©utilisables</li>
              <li><span class="spec-label">Context Switch:</span> ~200ns</li>
              <li><span class="spec-label">Memory Footprint:</span> 2-4KB par thread</li>
              <li><span class="spec-label">Max Concurrent:</span> 1M+ threads</li>
              <li><span class="spec-label">GC Impact:</span> R√©duction 80%</li>
            </ul>
          </div>
          <div class="tech-specs">
            <h4>Performance Metrics</h4>
            <ul class="spec-list">
              <li><span class="spec-label">Throughput Gain:</span> 3-5x vs platform threads</li>
              <li><span class="spec-label">Memory Reduction:</span> 60-80%</li>
              <li><span class="spec-label">Latency Improvement:</span> 40-60%</li>
              <li><span class="spec-label">CPU Utilization:</span> 15-20% meilleure</li>
              <li><span class="spec-label">Response Time:</span> p99 < 10ms</li>
              <li><span class="spec-label">Error Rate:</span> < 0.001%</li>
            </ul>
          </div>
        </div>

        <h3>üîó Zero-Copy Streaming Avanc√©</h3>
        <div class="grid two">
          <div>
            <h4>Architecture M√©moire</h4>
            <ul>
              <li><strong>Direct Buffers</strong> : Allocation hors heap natif</li>
              <li><strong>Memory Mapping</strong> : MappedByteBuffer pour fichiers</li>
              <li><strong>Buffer Pool</strong> : Recyclage avec buddy allocation</li>
              <li><strong>Stream Splitting</strong> : R√©f√©rences partag√©es sans copie</li>
              <li><strong>Compression</strong> : LZ4 en temps r√©el</li>
              <li><strong>Encryption</strong> : Chiffrement transparent</li>
            </ul>
          </div>
          <div>
            <h4>Configuration M√©moire</h4>
            <div class="code-header">
              <span>JVM Options Zero-Copy</span>
              <button class="copy-btn" data-clipboard-target="#config-zero-copy"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="config-zero-copy"><code class="language-bash"># Optimisations Zero-Copy BNP
-XX:MaxDirectMemorySize=4g
-XX:+UseLargePages
-XX:+UseTransparentHugePages
-XX:LargePageSizeInBytes=2m
-XX:+UseCompressedOops
-XX:+UseCompressedClassPointers

# Configuration Camel Zero-Copy
-Dcamel.stream-caching.zero-copy.enabled=true
-Dcamel.stream-caching.buffer-size=131072
-Dcamel.stream-caching.pool-size=1000
-Dcamel.stream-caching.spool-threshold=1048576
-Dcamel.stream-caching.spool-directory=/tmp/camel-spool

# Monitoring Memory
-XX:NativeMemoryTracking=detail
-XX:+PrintNMTStatistics</code></pre>
          </div>
        </div>

        <div class="export-controls">
          <button class="export-btn" onclick="exportSection('technical-features')">
            <i class="fas fa-download"></i> Exporter cette section
          </button>
        </div>
      </section>

      <!-- Les autres sections suivent le m√™me pattern avec un contenu technique complet -->
      
      <!-- Section 24: Monitoring Avanc√© -->
      <section id="advanced-monitoring">
        <div class="section-header">
          <h2><i class="fas fa-chart-line"></i>24) üìä Monitoring & Metrics Avanc√©es</h2>
          <div class="section-tools">
            <span class="section-badge">Monitoring</span>
            <div class="quick-actions">
              <a href="#connection-pooling" class="quick-action-btn">
                <i class="fas fa-arrow-up"></i> Pr√©c√©dent
              </a>
              <a href="#annex" class="quick-action-btn">
                <i class="fas fa-arrow-down"></i> Suivant
              </a>
            </div>
          </div>
        </div>

        <h3>Configuration Micrometer Avanc√©e</h3>
        <div class="grid two">
          <div>
            <h4>Metrics Configuration</h4>
            <div class="code-header">
              <span>Micrometer BNP Configuration</span>
              <button class="copy-btn" data-clipboard-target="#config-micrometer"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="config-micrometer"><code class="language-properties"># Micrometer Metrics Configuration BNP
management.metrics.export.prometheus.enabled=true
management.metrics.export.prometheus.step=1m
management.metrics.export.prometheus.descriptions=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles-histogram.http.client.requests=true

# Custom Metrics BNP
management.metrics.enable.camel=true
management.metrics.enable.jvm=true
management.metrics.enable.logback=true
management.metrics.enable.undertow=true
management.metrics.enable.hikaricp=true

# Metrics Distribution
management.metrics.distribution.percentiles=0.5,0.75,0.95,0.99
management.metrics.distribution.sla=100ms,500ms,1s,5s

# JVM Metrics
management.metrics.binders.jvm.enabled=true
management.metrics.binders.logback.enabled=true
management.metrics.binders.uptime.enabled=true
management.metrics.binders.processor.enabled=true</code></pre>
          </div>
          <div>
            <h4>Custom Metrics BNP</h4>
            <div class="code-header">
              <span>Business Metrics Configuration</span>
              <button class="copy-btn" data-clipboard-target="#config-business-metrics"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="config-business-metrics"><code class="language-java">@Component
public class BNPBusinessMetrics {

    private final MeterRegistry meterRegistry;
    
    // üîπ COMPTEURS M√âTIER
    private final Counter swiftMessagesProcessed;
    private final Counter sepaTransactionsProcessed;
    private final Counter paymentErrors;
    
    // üîπ GAUGES DE PERFORMANCE
    private final Gauge queueBacklogGauge;
    private final Gauge processingTimeGauge;
    
    // üîπ TIMERS SP√âCIALIS√âS
    private final Timer swiftProcessingTimer;
    private final Timer sepaProcessingTimer;
    private final Timer coreBankingTimer;

    public BNPBusinessMetrics(MeterRegistry meterRegistry) {
        this.meterRegistry = meterRegistry;
        
        // Initialisation des m√©triques
        this.swiftMessagesProcessed = Counter.builder("bnp.swift.messages.processed")
            .description("Nombre total de messages SWIFT trait√©s")
            .tag("environment", "production")
            .register(meterRegistry);
            
        this.sepaProcessingTimer = Timer.builder("bnp.sepa.processing.time")
            .description("Temps de traitement des transactions SEPA")
            .publishPercentiles(0.5, 0.95, 0.99)
            .publishPercentileHistogram()
            .register(meterRegistry);
            
        this.queueBacklogGauge = Gauge.builder("bnp.queue.backlog.size")
            .description("Taille du backlog des files d'attente")
            .register(meterRegistry);
    }

    public void recordSwiftProcessing(long duration, String messageType, boolean success) {
        swiftProcessingTimer.record(duration, TimeUnit.MILLISECONDS);
        swiftMessagesProcessed.increment();
        
        if (!success) {
            paymentErrors.increment();
        }
    }
    
    public void updateQueueBacklog(int backlogSize) {
        // Les gauges sont mises √† jour automatiquement via les r√©f√©rences
    }
}</code></pre>
          </div>
        </div>

        <h3>Tableau des M√©triques Critiques BNP</h3>
        <table class="strategy-table">
          <thead>
            <tr>
              <th>M√©trique</th>
              <th>Type</th>
              <th>Seuil Critique</th>
              <th>Action</th>
              <th>Dashboard</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Latence SWIFT p95</strong></td>
              <td>Timer</td>
              <td>> 15ms</td>
              <td>Alert CRITICAL</td>
              <td>SWIFT-Performance</td>
            </tr>
            <tr>
              <td><strong>Taux d'erreur SEPA</strong></td>
              <td>Counter</td>
              <td>> 0.01%</td>
              <td>Alert WARNING</td>
              <td>SEPA-Monitoring</td>
            </tr>
            <tr>
              <td><strong>Backlog JMS</strong></td>
              <td>Gauge</td>
              <td>> 10,000</td>
              <td>Auto-scaling</td>
              <td>Queue-Management</td>
            </tr>
            <tr>
              <td><strong>DB Connection Pool</strong></td>
              <td>Gauge</td>
              <td>> 80%</td>
              <td>Pool increase</td>
              <td>Database-Health</td>
            </tr>
            <tr>
              <td><strong>Memory Usage</strong></td>
              <td>Gauge</td>
              <td>> 85%</td>
              <td>GC Analysis</td>
              <td>JVM-Health</td>
            </tr>
          </tbody>
        </table>

        <div class="export-controls">
          <button class="export-btn" onclick="exportSection('advanced-monitoring')">
            <i class="fas fa-download"></i> Exporter cette section
          </button>
        </div>
      </section>

      <!-- Section Annexe -->
      <section id="annex">
        <div class="section-header">
          <h2><i class="fas fa-book"></i>üìö Annex A ‚Äì Technical Reference BNP</h2>
          <div class="section-tools">
            <span class="section-badge">R√©f√©rence</span>
            <div class="quick-actions">
              <a href="#advanced-monitoring" class="quick-action-btn">
                <i class="fas fa-arrow-up"></i> Pr√©c√©dent
              </a>
              <a href="#intro" class="quick-action-btn">
                <i class="fas fa-home"></i> D√©but
              </a>
            </div>
          </div>
        </div>
        
        <h3>A.1 Performance Benchmarks BNP</h3>
        <table class="strategy-table">
          <thead>
            <tr>
              <th>Scenario BNP</th>
              <th>Throughput</th>
              <th>Latency p95</th>
              <th>Memory Usage</th>
              <th>CPU Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>SWIFT Messages</td>
              <td>20,000 msg/s</td>
              <td>8 ms</td>
              <td>3 GB</td>
              <td>55%</td>
            </tr>
            <tr>
              <td>SEPA Payments</td>
              <td>15,000 tx/s</td>
              <td>12 ms</td>
              <td>2.5 GB</td>
              <td>50%</td>
            </tr>
            <tr>
              <td>Core Banking</td>
              <td>8,000 op/s</td>
              <td>25 ms</td>
              <td>4 GB</td>
              <td>65%</td>
            </tr>
          </tbody>
        </table>

        <h3>A.2 BNP Compliance & Security</h3>
        <div class="grid two">
          <div>
            <h4>R√©glementations</h4>
            <ul>
              <li><strong>PSD2</strong> : Strong Customer Authentication</li>
              <li><strong>GDPR</strong> : Protection des donn√©es</li>
              <li><strong>Basel III</strong> : Gestion des risques</li>
              <li><strong>SWIFT CSP</strong> : S√©curit√© des messages</li>
            </ul>
          </div>
          <div>
            <h4>Migration Guide 4.x to 4.15 BNP</h4>
            <div class="code-header">
              <span>Migration Steps BNP</span>
              <button class="copy-btn" data-clipboard-target="#code-migration"><i class="fas fa-copy"></i> Copier</button>
            </div>
            <pre id="code-migration"><code class="language-xml">&lt;!-- Maven Dependencies BNP --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;4.15.0&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- Key Changes BNP --&gt;
&lt;!-- 1. Virtual Threads enabled by default --&gt;
&lt;!-- 2. AI routing requires explicit opt-in --&gt;
&lt;!-- 3. Enhanced Cloud Native support --&gt;
&lt;!-- 4. Improved Resilience4j integration --&gt;

&lt;!-- BNP Specific Configurations --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.bnpparibas&lt;/groupId&gt;
    &lt;artifactId&gt;camel-bnp-security&lt;/artifactId&gt;
    &lt;version&gt;1.5.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
          </div>
        </div>

        <div class="export-controls">
          <button class="export-btn" onclick="exportSection('annex')">
            <i class="fas fa-download"></i> Exporter cette section
          </button>
          <button class="export-btn" onclick="exportFullDocument()">
            <i class="fas fa-file-export"></i> Exporter document complet
          </button>
        </div>
      </section>
    </main>

    <footer>
      <div class="grid three">
        <div>
          <h4>BNP Paribas - Digital Factory</h4>
          <p>¬© 2024 - Document confidentiel</p>
        </div>
        <div>
          <h4>Technologies</h4>
          <p>Apache Camel 4.15 ‚Ä¢ Spring Boot 3.3 ‚Ä¢ Cloud BNP</p>
        </div>
        <div>
          <h4>Performance</h4>
          <p>High Performance Banking ‚Ä¢ 99.99% Availability</p>
        </div>
      </div>
      <p style="margin-top: 20px; font-size: 12px; opacity: 0.8;">
        <i class="fas fa-shield-alt"></i> Ce document contient des informations confidentielles de BNP Paribas
      </p>
    </footer>
  </div>

  <script>
    // Initialisation du document
    document.addEventListener('DOMContentLoaded', function() {
      initializeDocument();
    });

    function initializeDocument() {
      // Date de mise √† jour
      document.getElementById('last-updated').textContent = new Date().toLocaleDateString('fr-FR', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });
      
      // Initialisation du th√®me
      initializeTheme();
      
      // Initialisation de la navigation
      initializeNavigation();
      
      // Initialisation des fonctionnalit√©s de copie
      initializeCopyButtons();
      
      // Initialisation de la recherche
      initializeSearch();
      
      // Animation d'entr√©e
      animateEntrance();
    }

    function initializeTheme() {
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = themeToggle.querySelector('i');
      
      // V√©rifier la pr√©f√©rence utilisateur
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('bnp-theme');
      
      if (savedTheme === 'light' || (!savedTheme && !prefersDark)) {
        document.body.classList.add('light-mode');
        themeIcon.classList.remove('fa-moon');
        themeIcon.classList.add('fa-sun');
        themeIcon.style.color = '#ff9800';
      }
      
      themeToggle.addEventListener('click', () => {
        const isLight = document.body.classList.toggle('light-mode');
        if (isLight) {
          themeIcon.classList.remove('fa-moon');
          themeIcon.classList.add('fa-sun');
          themeIcon.style.color = '#ff9800';
          localStorage.setItem('bnp-theme', 'light');
        } else {
          themeIcon.classList.remove('fa-sun');
          themeIcon.classList.add('fa-moon');
          themeIcon.style.color = '';
          localStorage.setItem('bnp-theme', 'dark');
        }
      });
    }

    function initializeNavigation() {
      const sections = document.querySelectorAll('.content section');
      const navLinks = document.querySelectorAll('.sidebar nav a');
      const navProgress = document.getElementById('navProgress');
      const navProgressText = document.getElementById('navProgressText');
      
      const observerOptions = {
        root: null,
        rootMargin: '-20% 0px -60% 0px',
        threshold: 0.1
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.getAttribute('id');
            
            // Mise √† jour des liens actifs
            navLinks.forEach(link => {
              link.classList.remove('active');
              if (link.getAttribute('href') === `#${id}`) {
                link.classList.add('active');
                
                // Animation de surbrillance
                entry.target.classList.add('section-highlight');
                setTimeout(() => {
                  entry.target.classList.remove('section-highlight');
                }, 2000);
              }
            });
            
            // Mise √† jour de la progression
            updateNavProgress();
          }
        });
      }, observerOptions);
      
      sections.forEach(section => {
        observer.observe(section);
      });
      
      // Mise √† jour de la progression lors du scroll
      window.addEventListener('scroll', () => {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById('progressBar').style.width = scrolled + '%';
        
        updateNavProgress();
      });
      
      function updateNavProgress() {
        const activeLink = document.querySelector('.sidebar nav a.active');
        if (activeLink) {
          const nav = document.querySelector('.sidebar nav');
          const navRect = nav.getBoundingClientRect();
          const linkRect = activeLink.getBoundingClientRect();
          const navTop = navRect.top;
          const linkTop = linkRect.top;
          const linkHeight = linkRect.height;
          
          const progress = ((linkTop - navTop) / navRect.height) * 100;
          const progressHeight = (linkHeight / navRect.height) * 100;
          
          navProgress.style.top = `${Math.max(0, progress)}%`;
          navProgress.style.height = `${Math.min(100, progressHeight)}%`;
          
          // Mise √† jour du texte de progression
          const activeIndex = Array.from(navLinks).findIndex(link => link.classList.contains('active'));
          const progressPercent = Math.round(((activeIndex + 1) / navLinks.length) * 100);
          navProgressText.textContent = `${progressPercent}%`;
        }
      }
      
      // Initialisation de la progression
      updateNavProgress();
    }

    function initializeCopyButtons() {
      document.querySelectorAll('.copy-btn').forEach(button => {
        button.addEventListener('click', async () => {
          const targetId = button.getAttribute('data-clipboard-target');
          const codeElement = document.querySelector(targetId);
          const textToCopy = codeElement.textContent;
          
          try {
            await navigator.clipboard.writeText(textToCopy);
            
            const originalText = button.innerHTML;
            const originalBackground = button.style.background;
            
            button.innerHTML = '<i class="fas fa-check"></i> Copi√©';
            button.style.background = 'var(--good)';
            
            setTimeout(() => {
              button.innerHTML = originalText;
              button.style.background = originalBackground;
            }, 2000);
          } catch (err) {
            console.error('Erreur lors de la copie: ', err);
            button.innerHTML = '<i class="fas fa-times"></i> Erreur';
            button.style.background = 'var(--bad)';
            
            setTimeout(() => {
              button.innerHTML = '<i class="fas fa-copy"></i> Copier';
              button.style.background = '';
            }, 2000);
          }
        });
      });
    }

    function initializeSearch() {
      const navSearch = document.getElementById('navSearch');
      const navLinks = document.querySelectorAll('.sidebar nav a');
      
      navSearch.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase().trim();
        
        if (searchTerm === '') {
          // R√©initialiser l'affichage
          navLinks.forEach(link => {
            link.style.display = 'flex';
            link.style.opacity = '1';
            link.style.order = '';
          });
          return;
        }
        
        let hasResults = false;
        
        navLinks.forEach(link => {
          const text = link.textContent.toLowerCase();
          if (text.includes(searchTerm)) {
            link.style.display = 'flex';
            link.style.opacity = '1';
            link.style.order = '-1';
            hasResults = true;
          } else {
            link.style.display = 'none';
            link.style.opacity = '0.3';
          }
        });
        
        // Mettre √† jour le placeholder si aucun r√©sultat
        if (!hasResults) {
          navSearch.style.borderColor = 'var(--bad)';
          setTimeout(() => {
            navSearch.style.borderColor = '';
          }, 1000);
        }
      });
      
      // Effacer la recherche avec Escape
      navSearch.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          navSearch.value = '';
          navSearch.dispatchEvent(new Event('input'));
          navSearch.blur();
        }
      });
    }

    function animateEntrance() {
      document.body.style.opacity = '0';
      document.body.style.transition = 'opacity 0.6s ease';
      
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 100);
      
      // Animation des cartes au chargement
      const cards = document.querySelectorAll('.bnp-card, .feature-card');
      cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'all 0.6s ease';
        
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, 200 + index * 100);
      });
    }

    // Fonctions d'export
    function exportSection(sectionId) {
      const section = document.getElementById(sectionId);
      const sectionTitle = section.querySelector('h2').textContent;
      
      // Simulation d'export - dans une vraie impl√©mentation, on utiliserait une librairie d'export
      showNotification(`Export de la section: ${sectionTitle}`, 'success');
    }

    function exportFullDocument() {
      showNotification('Export du document complet en cours...', 'info');
      
      // Simulation d'export complet
      setTimeout(() => {
        showNotification('Document export√© avec succ√®s!', 'success');
      }, 1500);
    }

    function shareSection(sectionId) {
      const section = document.getElementById(sectionId);
      const sectionTitle = section.querySelector('h2').textContent;
      const url = `${window.location.origin}${window.location.pathname}#${sectionId}`;
      
      if (navigator.share) {
        navigator.share({
          title: `BNP Camel Docs - ${sectionTitle}`,
          text: `Consultez la section "${sectionTitle}" du document BNP Paribas sur Apache Camel 4.15`,
          url: url
        });
      } else {
        // Fallback pour les navigateurs sans support de Web Share API
        navigator.clipboard.writeText(url).then(() => {
          showNotification('Lien copi√© dans le presse-papier!', 'success');
        });
      }
    }

    function printSection(sectionId) {
      const section = document.getElementById(sectionId);
      const printWindow = window.open('', '_blank');
      const sectionTitle = section.querySelector('h2').textContent;
      
      printWindow.document.write(`
        <html>
          <head>
            <title>BNP - ${sectionTitle}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 40px; }
              h2 { color: #2e7d32; border-bottom: 2px solid #2e7d32; padding-bottom: 10px; }
              pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
              table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
              th { background-color: #2e7d32; color: white; }
            </style>
          </head>
          <body>
            <h1>BNP Paribas - Digital Factory</h1>
            <h2>${sectionTitle}</h2>
            ${section.innerHTML}
          </body>
        </html>
      `);
      
      printWindow.document.close();
      printWindow.focus();
      setTimeout(() => {
        printWindow.print();
      }, 500);
    }

    function showNotification(message, type = 'info') {
      // Cr√©er une notification toast
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 16px 24px;
        border-radius: 10px;
        color: white;
        font-weight: 600;
        z-index: 10000;
        transform: translateX(400px);
        transition: transform 0.3s ease;
        max-width: 400px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      `;
      
      const backgroundColor = type === 'success' ? 'var(--good)' : 
                            type === 'error' ? 'var(--bad)' : 
                            type === 'warning' ? 'var(--warn)' : 'var(--accent)';
      
      notification.style.background = backgroundColor;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      // Animation d'entr√©e
      setTimeout(() => {
        notification.style.transform = 'translateX(0)';
      }, 100);
      
      // Animation de sortie apr√®s 3 secondes
      setTimeout(() => {
        notification.style.transform = 'translateX(400px)';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }

    // Navigation au clavier
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey || e.metaKey) {
        switch(e.key) {
          case '1':
            e.preventDefault();
            document.querySelector('a[href="#intro"]').click();
            break;
          case '2':
            e.preventDefault();
            document.querySelector('a[href="#new-features"]').click();
            break;
          case '3':
            e.preventDefault();
            document.querySelector('a[href="#technical-features"]').click();
            break;
          case 'h':
            e.preventDefault();
            document.querySelector('a[href="#intro"]').click();
            break;
        }
      }
      
      // Navigation avec les fl√®ches
      if (e.key === 'ArrowDown' && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        const currentSection = document.querySelector('.content section:target') || 
                             document.querySelector('.content section');
        const nextSection = currentSection.nextElementSibling;
        if (nextSection && nextSection.tagName === 'SECTION') {
          nextSection.scrollIntoView({ behavior: 'smooth' });
        }
      }
      
      if (e.key === 'ArrowUp' && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        const currentSection = document.querySelector('.content section:target') || 
                             document.querySelector('.content section');
        const prevSection = currentSection.previousElementSibling;
        if (prevSection && prevSection.tagName === 'SECTION') {
          prevSection.scrollIntoView({ behavior: 'smooth' });
        }
      }
    });

    // Am√©lioration de l'exp√©rience mobile
    if ('ontouchstart' in window) {
      document.body.classList.add('touch-device');
      
      // Am√©lioration des interactions tactiles
      document.querySelectorAll('.bnp-card, .feature-card').forEach(card => {
        card.style.cursor = 'pointer';
        card.addEventListener('touchstart', function() {
          this.style.transform = 'scale(0.98)';
        });
        card.addEventListener('touchend', function() {
          this.style.transform = '';
        });
      });
    }
  </script>
</body>
</html>